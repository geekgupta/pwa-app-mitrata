(function(t){function e(e){for(var a,s,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0af9":function(t,e,n){},"0bf8":function(t,e,n){},"2e76":function(t,e,n){"use strict";n("0af9")},"39aa":function(t,e,n){},"4bca":function(t,e,n){"use strict";n("0bf8")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view",{on:{authenticated:t.setAuthenticated}})],1)},o=[],s=(n("ac1f"),n("5319"),{name:"App",data:function(){return{authenticated:!1,url:"/"}},mounted:function(){this.authenticated||this.$router.replace({name:"login"})},methods:{setAuthenticated:function(t){this.authenticated=t},logout:function(){this.authenticated=!1}}}),i=s,c=(n("2e76"),n("2877")),l=Object(c["a"])(i,r,o,!1,null,"fc45bf0c",null),u=l.exports,d=n("9483");Object(d["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var p=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-form",staticStyle:{"margin-top":"10%"}},[t._m(0),n("h4",{staticClass:"modal-title"},[t._v("Login to Your Account")]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.username,expression:"input.username"}],staticClass:"form-control",attrs:{type:"email",name:"username",placeholder:"Email",required:"required"},domProps:{value:t.input.username},on:{input:function(e){e.target.composing||t.$set(t.input,"username",e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password",required:"required"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}})]),n("input",{staticClass:"btn btn-primary btn-block btn-lg",attrs:{value:"Login"},on:{click:function(e){return t.login()}}})])},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"avatar d-flex justify-content-center"},[a("img",{staticStyle:{"margin-top":"25%"},attrs:{src:n("e347"),height:"40px",width:"80px"}})])}],h=n("1da1"),b=(n("96cf"),n("bc3a")),g=n.n(b),v={name:"Login",data:function(){return{input:{username:"",password:""}}},methods:{login:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n="http://3.108.199.237/api/auth/",""!=t.input.username){e.next=4;break}return e.abrupt("return",alert("Username is required"));case 4:if(""!=t.input.password){e.next=6;break}return e.abrupt("return",alert("Password is required"));case 6:return console.log({email:t.input.username,password:t.input.password}),e.next=9,g.a.post(n,{email:t.input.username,password:t.input.password});case 9:a=e.sent,console.log(a.data),200==a.status?(t.$emit("authenticated",!0),r=a.data[0].staff_id,console.log(r),console.log(r),t.$store.commit("SET_ID",r),t.$router.replace({name:"secure"})):alert("Unable to log in with provided credentials."),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),alert("Unable to log in with provided credentials.");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()}}},_=v,w=(n("4bca"),Object(c["a"])(_,f,m,!1,null,"7df8d2e1",null)),k=w.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{staticClass:"navbar navbar-light navbar-expand-lg",staticStyle:{"background-color":"#e3f2fd"},attrs:{toggleable:"lg"}},[a("b-navbar-brand",{attrs:{href:"#"}},[a("img",{staticClass:"d-inline-block align-top",attrs:{src:n("e347"),height:"40px",width:"100px",alt:"Kitten"}})]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",{staticClass:"ml-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control me-2",attrs:{size:"sm",id:"search-bar",placeholder:"Search"},domProps:{value:t.search},on:{change:t.onSearch,input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("button",{staticClass:"btn btn-outline-primary",attrs:{size:"sm"},on:{click:t.onSearch}},[t._v("Search")]),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("em",[t._v("Logout")])]},proxy:!0}])},[a("b-dropdown-item",{on:{click:function(e){return t.logout()}}},[t._v("Sign Out")])],1)],1)],1)],1),a("div",{staticClass:"container",staticStyle:{"margin-top":"50px"}},[a("b-table",{ref:"selectableTable",attrs:{striped:"",hover:"",items:t.items,fields:t.fields,"select-mode":t.selectMode,responsive:"sm",selectable:""},on:{"row-selected":t.getcustomer}})],1)],1)},x=[],y=(n("d3b7"),n("25f0"),n("841c"),{name:"secure",data:function(){return{items:[]}},mounted:function(){var t=this;g.a.get("http://3.108.199.237/api/customers/"+this.$store.state.user.user_id.toString()+"/").then((function(e){return t.items=e.data}))},methods:{getcustomer:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.$store.commit("SET_CUSTOMER_ID",t[0].appid),e.$router.replace({name:"customer"});case 2:case"end":return n.stop()}}),n)})))()},onSearch:function(t){var e=this;this.search=t.target.value,console.log(this.search),g.a.get("http://3.108.199.237/api/search/?search="+this.search).then((function(t){return e.items=t.data}))},logout:function(){this.$router.replace({name:"login"}),this.$store.commit("SET_CUSTOMER_ID",null),this.$store.commit("SET_USER_ID",null)}}}),S=y,O=(n("c70f"),Object(c["a"])(S,C,x,!1,null,"f02f2e40",null)),E=O.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{staticClass:"navbar navbar-light navbar-expand-lg",staticStyle:{"background-color":"#e3f2fd"},attrs:{toggleable:"lg"}},[a("b-navbar-brand",{attrs:{href:"#"}},[a("img",{staticClass:"d-inline-block align-top",attrs:{src:n("e347"),height:"40px",width:"100px",alt:"Kitten"}})]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",{staticClass:"ml-auto"},[a("button",{staticClass:"btn btn-outline-primary mr-5",staticStyle:{"text-decoration":"none"},on:{click:function(e){return t.back()}}},[t._v("Back")]),a("button",{staticClass:"btn btn-outline-primary ",staticStyle:{"text-decoration":"none"},on:{click:function(e){return t.logout()}}},[t._v("Logout")])])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"card-block table-border-style"},[a("div",{staticClass:"table-responsive",staticStyle:{"margin-top":"50px","margin-bottom":"60px"}},[a("table",{staticClass:"table table-striped"},[t._m(0),t._l(t.items,(function(e,n,r){return a("tbody",{key:n+"-"+r,staticStyle:{background:"white"}},[a("tr",{staticStyle:{background:"white"}},[a("th",{attrs:{scope:"row"}},[t._v(t._s(n))]),a("td",[t._v(t._s(e))])])])}))],2)]),a("div"),a("div",{staticClass:"mb-3"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"exampleInputPassword1"}},[t._v("Write a FeedBack")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.feedback,expression:"feedback"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputPassword1"},domProps:{value:t.feedback},on:{change:t.onFeedbackChanged,input:function(e){e.target.composing||(t.feedback=e.target.value)}}})]),a("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("Choose Picture")]),a("input",{staticClass:"form-control",attrs:{type:"file",accept:"image/*",id:"exampleInputEmail1","aria-describedby":"emailHelp"},on:{change:t.onFileChanged}})]),a("div",{staticClass:"mb-3 form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox"},on:{click:function(e){return t.samplefunction(e)}}}),a("label",{staticClass:"form-check-label"},[t._v("Contacted")])]),a("button",{staticClass:"btn btn-primary",on:{click:t.onUpload}},[t._v("Submit")])])])],1)},T=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Details")]),n("th",[t._v("Value")])])])}],j={name:"secure",data:function(){return{items:[{id:2,customer_id:2,name:"Kishan",age:29,field_agent:1}],selectedFile:null}},mounted:function(){var t=this;g.a.get("http://3.108.199.237/api/cust/"+this.$store.state.user.customer_id.toString()+"/").then((function(e){return t.items=e.data[0]}))},methods:{onFileChanged:function(t){this.selectedFile=t.target.files[0]},samplefunction:function(t){t.target.checked?this.checkbox_val="CONTACT":this.checkbox_val="NON CONTACTABLE"},onFeedbackChanged:function(t){this.feedback=t.target.value,console.log(this.feedback)},onUpload:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="http://3.108.199.237/api/photo/",a=new FormData,a.append("appid",t.items.appid),a.append("field_agent_id",t.$store.state.user.user_id),a.append("feedback",t.feedback),a.append("photo",t.selectedFile),a.append("contact",t.checkbox_val),console.log(a),e.next=10,g.a.post(n,a);case 10:r=e.sent,201==r.status&&alert("Photo Uploaded");case 12:case"end":return e.stop()}}),e)})))()},logout:function(){this.$router.replace({name:"login"}),this.$store.commit("SET_CUSTOMER_ID",null),this.$store.commit("SET_USER_ID",null)},back:function(){this.$router.replace({name:"secure"})}}},P=j,I=(n("8642"),Object(c["a"])(P,$,T,!1,null,"197454f6",null)),R=I.exports;a["default"].use(p["a"]);var U=new p["a"]({routes:[{path:"/",redirect:{name:"login"}},{path:"/login",name:"login",component:k},{path:"/secure",name:"secure",component:E},{path:"/customer",name:"customer",component:R}]}),F=n("5f5b"),N=(n("ab8b"),n("2dd8"),n("2f62"));a["default"].use(N["a"]);var A=new N["a"].Store({state:{user:{user_id:null,customer_id:null}},getters:{id:function(t){return t.user.user_id},customer:function(t){return t.user.customer_id}},mutations:{SET_ID:function(t,e){t.user.user_id=e},SET_CUSTOMER_ID:function(t,e){t.user.customer_id=e}},actions:{}});a["default"].config.productionTip=!1,a["default"].use(F["a"]),new a["default"]({router:U,store:A,base:"/pwa",render:function(t){return t(u)}}).$mount("#app")},"708b":function(t,e,n){},8642:function(t,e,n){"use strict";n("708b")},c70f:function(t,e,n){"use strict";n("39aa")},e347:function(t,e,n){t.exports=n.p+"img/logo.212c5175.svg"}});
//# sourceMappingURL=app.99ef888b.js.map